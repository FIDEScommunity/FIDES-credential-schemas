{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://raw.githubusercontent.com/FIDEScommunity/FIDES-credential-schemas/refs/heads/main/vct-schemas/einv-direct/1/FIDES.einvDirect.schema.json",
  "title": "Direct eInvoicing Capability",
  "description": "This schema defines a self-issued Verifiable Credential with the direct eInvoicing capabilities of an organisation. It only contains domain-specific claims and is intended to be combined with a base VC layer by the wallet or ecosystem.",
  "type": "object",
  "properties": {
    "vct": {
      "type": "string",
      "description": "The Verifiable Credential Type (VCT) for this direct eInvoicing capability. Required. Example: urn:org:fides:einv-direct:1",
      "const": "urn:org:fides:einv-direct:1",
      "example": "urn:org:fides:einv-direct:1"
    },
    "entityName": {
      "type": "string",
      "description": "The name of the entity operating this direct eInvoicing channel. Required. Example: ACME BV",
      "example": "ACME BV"
    },
    "country": {
      "type": "string",
      "description": "The ISO 3166-1 alpha-2 country code of the entity. Required. Example: NL",
      "example": "NL",
      "minLength": 2,
      "maxLength": 2
    },
    "documentIdentifiers": {
      "type": "array",
      "description": "Supported document identifiers for this eInvoicing channel. Required. Examples: urn:fdc:peppol.eu:UBL:2.0:invoice, urn:un:unece:uncefact:data:standard:CrossIndustryInvoice:D22A, urn:un:unece:uncefact:data:standard:CrossIndustryCreditNote:D22A",
      "items": {
        "type": "string",
        "description": "A document identifier code or URI.",
        "example": "urn:fdc:peppol.eu:UBL:2.0:invoice"
      }
    },
    "processIdentifiers": {
      "type": "array",
      "description": "Supported process identifiers for this eInvoicing channel. Required. Examples: urn:fdc:peppol.eu:2017:poacc:billing:01:1.0, urn:un:unece:uncefact:process:CrossIndustryInvoice:1, urn:oasis:names:specification:ubl:process:BasicBilling:1",
      "items": {
        "type": "string",
        "description": "A process identifier code or URI.",
        "example": "urn:fdc:peppol.eu:2017:poacc:billing:01:1.0"
      }
    },
    "endpoint": {
      "type": "string",
      "description": "The primary endpoint for direct eInvoicing. Required. Example: https://wallet.acc.credenco.com/public/inbox/52e1f2df-9e77-48a9-a838-cba39d34fd44",
      "example": "https://wallet.acc.credenco.com/public/inbox/52e1f2df-9e77-48a9-a838-cba39d34fd44"
    },
    "transportType": {
      "type": "string",
      "description": "The transport type used for this direct eInvoicing channel. Optional. Example: HTTP",
      "enum": [
        "HTTP",
        "SMTP",
        "SFTP",
        "Portal"
      ],
      "example": "HTTP"
    }
  },
  "required": [
    "vct",
    "entityName",
    "country",
    "documentIdentifiers",
    "processIdentifiers",
    "endpoint"
  ]
}
