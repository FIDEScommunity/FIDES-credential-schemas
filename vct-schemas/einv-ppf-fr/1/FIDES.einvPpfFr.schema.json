{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://github.com/FIDEScommunity/FIDES-credential-schemas/blob/main/vct-schemas/einv-ppf-fr/1/FIDES.einvPpfFr.schema.json",
  "title": "National eInvoicing \u2013 France PPF Capability",
  "description": "This schema defines a self-issued Verifiable Credential containing the national eInvoicing capabilities of an organisation on the French PPF (Portail Public de Facturation). It contains domain-specific claims and is intended to be combined with a base VC layer by the wallet or ecosystem.",
  "type": "object",
  "properties": {
    "vct": {
      "type": "string",
      "description": "The Verifiable Credential Type (VCT) for this national eInvoicing PPF capability. Required. Example: urn:org:fides:einv-ppf-fr:1",
      "const": "urn:org:fides:einv-ppf-fr:1",
      "example": "urn:org:fides:einv-ppf-fr:1"
    },
    "entityName": {
      "type": "string",
      "description": "The name of the entity operating this PPF eInvoicing channel. Required. Example: ACME France SAS",
      "example": "ACME France SAS"
    },
    "country": {
      "type": "string",
      "description": "The ISO 3166-1 alpha-2 country code of the entity. Required. Example: FR",
      "example": "FR",
      "minLength": 2,
      "maxLength": 2
    },
    "ppfPlatformId": {
      "type": "string",
      "description": "The identifier of this organisation or service provider on the French PPF (for example a PDP identifier). Required. Example: fr-ppf:pdp:provider-123",
      "example": "fr-ppf:pdp:provider-123"
    },
    "ppfRecipientIds": {
      "type": "array",
      "description": "Recipient identifiers used on the PPF to route invoices to this organisation, such as SIREN or SIRET. Required. Example: 123456789",
      "items": {
        "type": "string",
        "description": "A recipient identifier used by the PPF, such as a SIREN.",
        "example": "123456789"
      }
    },
    "ppfMode": {
      "type": "string",
      "description": "The connection mode used on the national eInvoicing platform. Required. Example: pdp",
      "enum": [
        "pdp",
        "direct",
        "via-pdp"
      ],
      "example": "pdp"
    },
    "ppfApiEndpoint": {
      "type": "string",
      "description": "The API endpoint used by this organisation or PDP to connect to the French PPF. Optional. Example: https://pdp.example.com/api",
      "example": "https://pdp.example.com/api"
    },
    "documentIdentifiers": {
      "type": "array",
      "description": "Supported document identifiers for this PPF eInvoicing channel. Required. Examples: urn:un:unece:uncefact:data:standard:CrossIndustryInvoice:D22A, urn:un:unece:uncefact:data:standard:CrossIndustryCreditNote:D22A",
      "items": {
        "type": "string",
        "description": "A document identifier code or URI.",
        "example": "urn:un:unece:uncefact:data:standard:CrossIndustryInvoice:D22A"
      }
    },
    "processIdentifiers": {
      "type": "array",
      "description": "Supported process identifiers for this PPF eInvoicing channel. Required. Examples: urn:fr:ppf:process:facturx:1",
      "items": {
        "type": "string",
        "description": "A process identifier code or URI.",
        "example": "urn:fr:ppf:process:facturx:1"
      }
    },
    "transportType": {
      "type": "string",
      "description": "The transport type used for this national eInvoicing channel. Optional. Example: PPF",
      "enum": [
        "PPF"
      ],
      "example": "PPF"
    }
  },
  "required": [
    "vct",
    "entityName",
    "country",
    "ppfPlatformId",
    "ppfRecipientIds",
    "ppfMode",
    "documentIdentifiers",
    "processIdentifiers"
  ]
}
