{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://fidescommunity.github.io/FIDES-credential-schemas/data-schemas/vcdm/iscc-certificate.schema.json",
  "$comment": "Semantics via https://fidescommunity.github.io/FIDES-credential-schemas/vocabs/iscc.vocab.jsonld and https://fidescommunity.github.io/FIDES-credential-schemas/contexts/iscc.context.jsonld",
  "title": "ISCC Certificate â€“ CredentialSubject",
  "description": "Minimal JSON Schema for the credentialSubject of an ISCC Certificate Credential (issued by an ISCC Conformity Assessment Body to a party in the fuel supply chain).",
  "type": "object",
  "additionalProperties": true,

  "required": [
    "certificateNumber",
    "scheme",
    "certifiedParty",
    "validFrom",
    "validUntil",
    "cab"
  ],

  "properties": {
    "certificateNumber": {
      "type": "string",
      "title": "ISCC Certificate Number",
      "examples": ["ISCC-EU-PL-123456789"]
    },

    "scheme": {
      "type": "string",
      "title": "ISCC Scheme",
      "enum": ["ISCC EU", "ISCC PLUS", "ISCC CORSIA"],
      "examples": ["ISCC EU"]
    },

    "certificateType": {
      "type": "string",
      "title": "Certificate Type",
      "examples": ["Sustainability Certification"]
    },

    "certifiedParty": {
      "type": "object",
      "title": "Certified Organization",
      "required": ["legalName"],
      "additionalProperties": true,
      "properties": {
        "legalName": {
          "type": "string",
          "title": "Legal name",
          "examples": ["Van Kessel Olie B.V."]
        },
        "vatId": {
          "type": "string",
          "title": "VAT ID",
          "examples": ["NL123456789B01"]
        },
        "lei": {
          "type": "string",
          "title": "LEI",
          "examples": ["724500XXXXXXXXXXXXXX"]
        }
      }
    },

    "scope": {
      "type": "string",
      "title": "Certified Scope",
      "examples": ["Trading and distribution of biofuels (mass balance)"]
    },

    "siteCountry": {
      "type": "string",
      "title": "Country (ISO 3166-1 alpha-2)",
      "pattern": "^[A-Z]{2}$",
      "examples": ["NL"]
    },

    "validFrom": {
      "type": "string",
      "format": "date",
      "title": "Valid from",
      "examples": ["2025-01-15"]
    },

    "validUntil": {
      "type": "string",
      "format": "date",
      "title": "Valid until",
      "examples": ["2026-01-14"]
    },

    "cab": {
      "type": "object",
      "title": "Conformity Assessment Body",
      "required": ["legalName"],
      "additionalProperties": true,
      "properties": {
        "legalName": {
          "type": "string",
          "title": "CAB Name",
          "examples": ["Control Union Certifications B.V."]
        },
        "accreditationId": {
          "type": "string",
          "title": "Accreditation ID",
          "examples": ["CUC-NL-0001"]
        }
      }
    },

    "reference": {
      "type": "string",
      "format": "uri",
      "title": "Public certificate URL",
      "examples": ["https://iscc-system.org/certificates/ISCC-EU-PL-123456789.pdf"]
    }
  }
}
