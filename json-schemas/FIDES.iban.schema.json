{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://github.com/FIDEScommunity/FIDES-credential-schemas/tree/main/fides-credential-schemas/data-schemas/sd-jwt/FIDES.iban.schema.json",
  "title": "FIDES IBAN Attestation (SD-JWT VC, flat schema)",
  "description": "This schema represents the claim set of an SD-JWT based Verifiable Credential for the IBAN (Bank Account) attestation as a single, flat JSON object. It is derived from the EWC PID Rulebook and aligned with the IETF SD-JWT VC data model: generic SD-JWT VC claims (iss, sub, vct, iat, nbf, exp, jti, cnf) are defined alongside the domain-specific LPID claims. Implementations may conceptually treat this as a layered model (base + domain), but the structure is flat for systems that expect a single JSON Schema document, such as current organizational wallet templates.",
  "type": "object",
  "properties": {
    "vct": {
      "type": "string",
      "const": "urn:org:fides:iban:1"
    },

    "issuing_authority": {
      "description": "Name of the issuer that issued the credential",
      "type": "string"
    },
    "issuing_authority_id": {
      "description": "EUID of the issuing authority",
      "type": "string"
    },
    "issuance_date": {
      "description": "Date and possibly time of issuance",
      "type": "string",
      "format": "date-time"
    },
    "expiry_date": {
      "description": "Date and possibly time of credential expiration",
      "type": "string",
      "format": "date-time"
    },
    "authentic_source_id": {
      "description": "EUID of the data providing entity",
      "type": "string"
    },
    "authentic_source_name": {
      "description": "Name of the data providing entity",
      "type": "string"
    },
    "account_name": {
      "description": "Name of the account, generated by the bank or customized by the owner",
      "type": "string"
    },
    "IBAN": {
      "description": "International Bank Account Number, as defined in ISO 13616:2020",
      "type": "string",
      "pattern": "^[A-Z]{2}[0-9A-Z]{13,30}$"
    },
    "account_type": {
      "description": "Nature of the bank account",
      "type": "string"
    },
    "account_currency": {
      "description": "Currency code used of the account, as defined in ISO 4217:2015",
      "type": "string",
      "minLength": 3,
      "maxLength": 3
    },
    "account_usage": {
      "description": "Specification about the private or professional usage of the acccount",
      "type": "string",
      "enum": [
        "PRIV",
        "PRO"
      ]
    },
    "provider_name": {
      "description": "Name of the financial institution providing the account",
      "type": "string"
    },
    "bank_identifier": {
      "description": "Bank identification Number",
      "type": "string"
    },
    "provider_country": {
      "description": "Alpha-2 country code, as defined in ISO 3166-1, of the provider country or territory",
      "type": "string",
      "minLength": 2,
      "maxLength": 2
    },
    "BIC": {
      "description": "BIC or SWIFT code, as defined in ISO 9362, of the financial institution",
      "type": "string",
      "pattern": "^[A-Z]{6}[A-Z0-9]{2}([A-Z0-9]{3})?$"
    },
    "clearing_number": {
      "description": "Clearing number, only used in some countries, of the identification of the financial institution",
      "type": "string"
    }
  },
  "required": [
    "account_name",
    "IBAN",
    "account_type",
    "account_currency"
    "provider_name",
    "bank_identifier",
    "provider_country"
    "issuing_authority",
    "issuing_authority_id",
    "issuance_date",
    "expiry_date",
    "authentic_source_id",
    "authentic_source_name"
  ]
}
